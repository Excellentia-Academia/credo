<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DIH ‚Äì Cours complet</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Roboto', sans-serif; }
        body { background: #f5f5f5; color: #333; line-height: 1.6; }
        header { background: #b31b1b; color: white; padding: 1.5rem; text-align: center; }
        .tabs { display: flex; background: #333; justify-content: center; flex-wrap: wrap; }
        .tab-button { background: #333; color: white; border: none; padding: 1rem 2rem; cursor: pointer; font-size: 1rem; transition: background 0.3s; }
        .tab-button:hover { background: #555; }
        .tab-button.active { background: #b31b1b; }
        .tab-content { display: none; max-width: 1000px; margin: 2rem auto; padding: 0 1rem; }
        .tab-content.active { display: block; }
        h2, h3 { color: #b31b1b; margin: 1rem 0; }
        section { margin-bottom: 2rem; }
        footer { background: #333; color: white; text-align: center; padding: 1rem; margin-top: 3rem; }
        #chat-container { border: 1px solid #ccc; background: white; border-radius: 5px; height: 500px; display: flex; flex-direction: column; }
        #chat-log { flex: 1; overflow-y: auto; padding: 1rem; }
        .message { margin: 0.5rem 0; padding: 0.5rem; border-radius: 5px; max-width: 80%; }
        .user { background: #b31b1b; color: white; align-self: flex-end; margin-left: auto; }
        .bot { background: #e0e0e0; align-self: flex-start; }
        #chat-input-area { display: flex; padding: 0.5rem; border-top: 1px solid #ccc; }
        #user-question { flex: 1; padding: 0.5rem; border: 1px solid #ccc; border-radius: 3px; }
        #send-btn { background: #b31b1b; color: white; border: none; padding: 0.5rem 1rem; margin-left: 0.5rem; cursor: pointer; border-radius: 3px; }
        .exercise { background: white; border: 1px solid #ddd; padding: 1rem; margin-bottom: 1rem; border-radius: 5px; }
        .exercise button { background: #b31b1b; color: white; border: none; padding: 0.5rem 1rem; margin-right: 0.5rem; cursor: pointer; border-radius: 3px; margin-top: 0.5rem; }
        .result { margin-left: 1rem; font-weight: bold; }
        .correct { color: green; }
        .incorrect { color: red; }
        ul { list-style-type: disc; margin-left: 2rem; }
        .study-plan ul { list-style-type: none; margin-left: 0; }
        .study-plan li { margin-bottom: 0.5rem; }
        .highlight { background: #f9f9c9; padding: 0.2rem; }
    </style>
</head>
<body>
    <header>
        <h1>üìò Droit International Humanitaire</h1>
        <p>Introduction d√©taill√©e ‚Äì CICR / Nils Melzer</p>
    </header>

    <div class="tabs">
        <button class="tab-button active" onclick="showTab('resume')">üìã R√©sum√©</button>
        <button class="tab-button" onclick="showTab('chatbot')">üí¨ Chatbot IA</button>
        <button class="tab-button" onclick="showTab('exercices')">üìù Exercices</button>
        <button class="tab-button" onclick="showTab('plan')">‚è≥ Plan d'√©tude</button>
    </div>

    <!-- Onglet R√©sum√© -->
    <div id="tab-resume" class="tab-content active">
        <main>
            <h2>üìö R√©sum√© du cours</h2>
            <p>Ce cours pr√©sente les fondements, le champ d‚Äôapplication, la conduite des hostilit√©s, la protection des personnes et la mise en ≈ìuvre du DIH.</p>

            <section>
                <h3>Chapitre 1 ‚Äì Introduction au DIH</h3>
                <ul>
                    <li><strong>D√©finition :</strong> ensemble de r√®gles limitant les effets des conflits arm√©s.</li>
                    <li><strong>Principes :</strong> distinction, proportionnalit√©, pr√©caution, traitement humain, interdiction des maux superflus.</li>
                    <li><strong>Sources :</strong> trait√©s (Conventions de Gen√®ve), coutume, principes g√©n√©raux.</li>
                    <li><strong>Historique :</strong> de Solferino (1859) aux d√©fis actuels (cyberguerre, drones).</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 2 ‚Äì Champ d‚Äôapplication</h3>
                <ul>
                    <li><strong>Conflit arm√© international :</strong> entre √âtats, occupation comprise.</li>
                    <li><strong>Conflit arm√© non international :</strong> entre √âtat et groupe arm√© organis√©.</li>
                    <li><strong>Seuils :</strong> intensit√© et organisation.</li>
                    <li><strong>Occupation :</strong> contr√¥le effectif sans consentement.</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 3 ‚Äì Conduite des hostilit√©s</h3>
                <ul>
                    <li><strong>Protection des civils :</strong> interdiction des attaques directes, boucliers humains.</li>
                    <li><strong>Biens prot√©g√©s :</strong> culturels, installations dangereuses, environnement.</li>
                    <li><strong>Moyens et m√©thodes :</strong> interdiction des armes causant des maux superflus, perfidie, repr√©sailles.</li>
                    <li><strong>Participation directe aux hostilit√©s :</strong> perte temporaire de protection.</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 4 ‚Äì Bless√©s, malades, mission m√©dicale</h3>
                <ul>
                    <li><strong>Respect et protection :</strong> personnel sanitaire, h√¥pitaux, transports.</li>
                    <li><strong>Signes distinctifs :</strong> croix rouge, croissant rouge, cristal rouge.</li>
                    <li><strong>Personnes disparues :</strong> droit des familles de conna√Ætre le sort.</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 5 ‚Äì D√©tention et internement</h3>
                <ul>
                    <li><strong>Prisonniers de guerre :</strong> statut, traitement, lib√©ration.</li>
                    <li><strong>Intern√©s civils :</strong> garanties proc√©durales, conditions.</li>
                    <li><strong>Non-refoulement.</strong></li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 6 ‚Äì Civils en territoire ennemi</h3>
                <ul>
                    <li><strong>Protection g√©n√©rale :</strong> traitement humain, non-discrimination.</li>
                    <li><strong>Territoire occup√© :</strong> administration temporaire, interdiction des transferts forc√©s.</li>
                    <li><strong>Assistance humanitaire :</strong> libre passage des secours.</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 7 ‚Äì Mise en ≈ìuvre du DIH</h3>
                <ul>
                    <li><strong>Respect et faire respecter :</strong> obligation des √âtats.</li>
                    <li><strong>R√©pression p√©nale :</strong> crimes de guerre, comp√©tence universelle.</li>
                    <li><strong>M√©canismes :</strong> enqu√™tes, r√©parations, r√¥le de l‚ÄôONU.</li>
                </ul>
            </section>

            <section>
                <h3>Chapitre 8 ‚Äì R√¥le du CICR</h3>
                <ul>
                    <li><strong>Mandat :</strong> organisation neutre et ind√©pendante.</li>
                    <li><strong>Actions :</strong> visites de d√©tenus, Agence centrale de recherches, promotion du DIH.</li>
                    <li><strong>Droit d‚Äôinitiative humanitaire.</strong></li>
                </ul>
            </section>
        </main>
    </div>

    <!-- Onglet Chatbot -->
    <div id="tab-chatbot" class="tab-content">
        <main>
            <h2>üí¨ Posez votre question sur le DIH</h2>
            <div id="chat-container">
                <div id="chat-log"></div>
                <div id="chat-input-area">
                    <input type="text" id="user-question" placeholder="Ex: Qu'est-ce que le principe de distinction ?">
                    <button id="send-btn">Envoyer</button>
                </div>
            </div>
        </main>
    </div>

    <!-- Onglet Exercices -->
    <div id="tab-exercices" class="tab-content">
        <main>
            <h2>üìù Exercices interactifs</h2>

            <div class="exercise">
                <h3>QCM 1 ‚Äì Principes du DIH</h3>
                <p>Quel principe interdit les attaques sans discrimination ?</p>
                <input type="radio" name="q1" value="a"> Distinction<br>
                <input type="radio" name="q1" value="b"> Proportionnalit√©<br>
                <input type="radio" name="q1" value="c"> Pr√©caution<br>
                <button onclick="checkQ1()">V√©rifier</button>
                <span id="result1" class="result"></span>
            </div>

            <div class="exercise">
                <h3>Vrai / Faux</h3>
                <p>Les repr√©sailles contre les civils sont autoris√©es si l‚Äôennemi ne respecte pas le DIH.</p>
                <button onclick="checkVF(true)">Vrai</button>
                <button onclick="checkVF(false)">Faux</button>
                <span id="result2" class="result"></span>
            </div>

            <div class="exercise">
                <h3>QCM 2 ‚Äì Statut des personnes</h3>
                <p>Qui a droit au statut de prisonnier de guerre ?</p>
                <input type="radio" name="q3" value="a"> Les membres des forces arm√©es r√©guli√®res uniquement<br>
                <input type="radio" name="q3" value="b"> Tous les combattants (y compris milices) sous certaines conditions<br>
                <input type="radio" name="q3" value="c"> Les civils participant aux hostilit√©s<br>
                <button onclick="checkQ3()">V√©rifier</button>
                <span id="result3" class="result"></span>
            </div>
        </main>
    </div>

    <!-- Onglet Plan d'√©tude -->
    <div id="tab-plan" class="tab-content">
        <main class="study-plan">
            <h2>‚è≥ Plan d'√©tude ‚Äì Ma√Ætrise du DIH</h2>
            <p><strong>Estimation :</strong> 40 √† 60 heures (5 semaines, environ 10 h / semaine)</p>
            <ul>
                <li><span class="highlight">Semaine 1 :</span> Chapitres 1 et 2 ‚Äì Fondements, sources, champ d‚Äôapplication</li>
                <li><span class="highlight">Semaine 2 :</span> Chapitre 3 ‚Äì Conduite des hostilit√©s (lecture + exercices)</li>
                <li><span class="highlight">Semaine 3 :</span> Chapitres 4 et 5 ‚Äì Bless√©s, mission m√©dicale, d√©tention</li>
                <li><span class="highlight">Semaine 4 :</span> Chapitres 6 et 7 ‚Äì Civils en territoire ennemi, mise en ≈ìuvre</li>
                <li><span class="highlight">Semaine 5 :</span> Chapitre 8 ‚Äì R√¥le du CICR + r√©vision g√©n√©rale et tests</li>
            </ul>
            <p>üìå <strong>Conseils :</strong> utilisez le chatbot pour v√©rifier vos connaissances, faites les QCM, lisez les encadr√©s du manuel.</p>
        </main>
    </div>

    <footer>
        <p>¬© 2025 ‚Äì Adaptation libre du manuel du CICR</p>
    </footer>

    <!-- Inclusion de Fuse.js pour la recherche floue -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.6.2/fuse.min.js"></script>

    <script>
        // ---------- Gestion des onglets ----------
        function showTab(tabId) {
            // Masquer tous les contenus
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            // D√©sactiver tous les boutons
            document.querySelectorAll('.tab-button').forEach(el => el.classList.remove('active'));
            // Afficher le contenu s√©lectionn√©
            document.getElementById('tab-' + tabId).classList.add('active');
            // Activer le bouton cliqu√©
            event.target.classList.add('active');
        }

        // ---------- Base de connaissances (extraite du PDF) ----------
        const knowledgeBase = [
            {
                question: "Qu'est-ce que le droit international humanitaire ?",
                answer: "Le DIH est un ensemble de r√®gles destin√©es √† limiter les cons√©quences des conflits arm√©s. Il prot√®ge les personnes qui ne participent pas aux hostilit√©s et restreint les moyens et m√©thodes de guerre."
            },
            {
                question: "Quels sont les principes fondamentaux du DIH ?",
                answer: "Distinction, proportionnalit√©, pr√©caution, interdiction des maux superflus, traitement humain, non-r√©ciprocit√©."
            },
            {
                question: "Quelle diff√©rence entre conflit arm√© international et non international ?",
                answer: "International : oppose deux √âtats ou plus. Non international : oppose un √âtat √† un groupe arm√© organis√©, ou des groupes entre eux, sur le territoire d‚Äôun √âtat."
            },
            {
                question: "Qu'est-ce que le principe de distinction ?",
                answer: "Les parties au conflit doivent en tout temps distinguer entre civils et combattants, et entre biens civils et objectifs militaires. Les attaques ne peuvent √™tre dirig√©es que contre des objectifs militaires."
            },
            {
                question: "Qu'est-ce qu'une occupation bellig√©rante ?",
                answer: "Un territoire est occup√© lorsqu'il se trouve plac√© de fait sous l'autorit√© de l'arm√©e ennemie. L'occupant doit assurer l'ordre et la vie publics, sans modifier les institutions."
            },
            {
                question: "Quels sont les droits des prisonniers de guerre ?",
                answer: "Ils doivent √™tre trait√©s avec humanit√©, log√©s, nourris, soign√©s, autoris√©s √† correspondre avec leur famille. Ils ne peuvent √™tre poursuivis pour des actes de guerre licites."
            },
            {
                question: "Qu'est-ce que la participation directe aux hostilit√©s ?",
                answer: "Un civil perd sa protection contre les attaques directes lorsqu'il participe directement aux hostilit√©s, et pendant la dur√©e de cette participation."
            },
            {
                question: "Quelles sont les infractions graves au DIH ?",
                answer: "Homicide intentionnel, torture, traitements inhumains, prise d'otages, destructions massives non justifi√©es, etc. Ce sont des crimes de guerre."
            },
            {
                question: "Quel est le r√¥le du CICR ?",
                answer: "Organisation neutre et ind√©pendante, le CICR prot√®ge et assiste les victimes des conflits arm√©s, promeut le DIH, visite les d√©tenus et g√®re l'Agence centrale de recherches."
            },
            {
                question: "Qu'est-ce que le principe de proportionnalit√© ?",
                answer: "Il interdit les attaques dont on peut attendre qu'elles causent des dommages incidents excessifs par rapport √† l'avantage militaire concret et direct attendu."
            },
            {
                question: "Peut-on attaquer une √©cole ?",
                answer: "Non, sauf si elle est utilis√©e √† des fins militaires et devient un objectif militaire. En cas de doute, elle est pr√©sum√©e civile."
            }
        ];

        // ---------- Configuration de Fuse ----------
        const fuseOptions = {
            keys: ['question'],
            threshold: 0.4,
            includeScore: true
        };
        const fuse = new Fuse(knowledgeBase, fuseOptions);

        // ---------- Fonction du chatbot ----------
        document.addEventListener('DOMContentLoaded', function() {
            const sendBtn = document.getElementById('send-btn');
            const userInput = document.getElementById('user-question');
            const chatLog = document.getElementById('chat-log');

            function addMessage(sender, text) {
                const msgDiv = document.createElement('div');
                msgDiv.classList.add('message', sender);
                msgDiv.textContent = text;
                chatLog.appendChild(msgDiv);
                chatLog.scrollTop = chatLog.scrollHeight;
            }

            sendBtn.addEventListener('click', function() {
                const question = userInput.value.trim();
                if (!question) return;

                addMessage('user', question);
                userInput.value = '';

                setTimeout(() => {
                    const results = fuse.search(question);
                    let answer = "D√©sol√©, je n'ai pas trouv√© de r√©ponse. Essayez avec des mots-cl√©s diff√©rents.";
                    if (results.length > 0 && results[0].score < 0.4) {
                        answer = results[0].item.answer;
                    }
                    addMessage('bot', answer);
                }, 500);
            });

            // Permettre l'envoi avec la touche Entr√©e
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendBtn.click();
                }
            });
        });

        // ---------- Fonctions des exercices ----------
        function checkQ1() {
            const radios = document.getElementsByName('q1');
            let selected = null;
            for (let r of radios) {
                if (r.checked) {
                    selected = r.value;
                    break;
                }
            }
            const resultSpan = document.getElementById('result1');
            if (selected === 'a') {
                resultSpan.innerHTML = '‚úÖ Correct';
                resultSpan.className = 'result correct';
            } else {
                resultSpan.innerHTML = '‚ùå Faux. La bonne r√©ponse est "Distinction".';
                resultSpan.className = 'result incorrect';
            }
        }

        function checkVF(userSaidTrue) {
            const resultSpan = document.getElementById('result2');
            // La bonne r√©ponse est "Faux" (les repr√©sailles contre les civils sont interdites)
            if (userSaidTrue === false) {
                resultSpan.innerHTML = '‚úÖ Correct';
                resultSpan.className = 'result correct';
            } else {
                resultSpan.innerHTML = '‚ùå Faux. Les repr√©sailles contre les civils sont interdites en toutes circonstances.';
                resultSpan.className = 'result incorrect';
            }
        }

        function checkQ3() {
            const radios = document.getElementsByName('q3');
            let selected = null;
            for (let r of radios) {
                if (r.checked) {
                    selected = r.value;
                    break;
                }
            }
            const resultSpan = document.getElementById('result3');
            if (selected === 'b') {
                resultSpan.innerHTML = '‚úÖ Correct (les milices et volontaires peuvent y pr√©tendre sous conditions).';
                resultSpan.className = 'result correct';
            } else if (selected === 'a') {
                resultSpan.innerHTML = '‚ùå Faux. Les forces irr√©guli√®res peuvent aussi y avoir droit si elles respectent certaines conditions.';
                resultSpan.className = 'result incorrect';
            } else if (selected === 'c') {
                resultSpan.innerHTML = '‚ùå Faux. Les civils participant directement aux hostilit√©s n‚Äôont pas droit au statut de prisonnier de guerre.';
                resultSpan.className = 'result incorrect';
            } else {
                resultSpan.innerHTML = '‚ùå Veuillez s√©lectionner une r√©ponse.';
                resultSpan.className = 'result incorrect';
            }
        }
    </script>
</body>
</html>
